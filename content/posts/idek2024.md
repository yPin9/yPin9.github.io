---
title: idek CTF 2024
date: 2024-08-21 01:39:46
tags: CTF 
---

 剛好看到同學說有報名 idek CTF，想說就去玩玩看，最後只解了兩題

> 一題reverse 一題 misc 都是簡單的題目

可以看到敘述，分數最高的 player 可以獲得 flag，很明顯我們的目標會在 score 之類的地方
![alt text](/idek_img/image.png)


解包解壓縮後可以看到有這些東西， `.exe`，確定遊戲是跑在 windows 底下的

![alt text](/idek_img/dir.png)

打開遊戲，可以發現就是 chrome 離線時的小遊戲，玩法一樣

> 這遊戲的音樂很大聲

![alt text](/idek_img/game_dis.png)

其實解題思路在這邊就很清晰了，我們要達到高分，那不免俗可能需要 cheat engine 的幫助，這邊有兩個可以嘗試的目標，所謂的高分是指
* 歷史最高分高到足夠可以得到 `flag`

* 目前的分數高到足夠可以得到 `flag`

後來我用 cheat engine 找到存放最高分數的位置，修改後沒有得到 `flag`
> 情理之中，歷史最高分 > 某個數字就可以拿到 flag 的邏輯還是怪怪的

所以應該是 **目前的分數高到足夠可以得到 `flag`**，我一樣去分析但其實找不太到存在**當前**分數的地方，不確定是不是故意設計成這樣，後來放棄分析主程式跑去看有什麼其當的檔案就真的看到有趣的東西了 `spritesheet.json`

    {
    "ground_0": {"x": 2, "y": 54, "width": 600, "height": 12},
    "ground_1": {"x": 602, "y": 54, "width": 600, "height": 12},
    "restart_button": {"x": 2, "y": 2, "width": 36, "height": 32},
    "restart_text": {"x": 655, "y": 15, "width": 191, "height": 11},
    "cloud": {"x": 86, "y": 2, "width": 46, "height": 14},
    "char_0": {"x": 655, "y": 2, "width": 9, "height": 11},
    "char_1": {"x": 665, "y": 2, "width": 9, "height": 11},
    "char_2": {"x": 675, "y": 2, "width": 9, "height": 11},
    "char_3": {"x": 685, "y": 2, "width": 9, "height": 11},
    "char_4": {"x": 695, "y": 2, "width": 9, "height": 11},
    "char_5": {"x": 705, "y": 2, "width": 9, "height": 11},
    "char_6": {"x": 715, "y": 2, "width": 9, "height": 11},
    "char_7": {"x": 725, "y": 2, "width": 9, "height": 11},
    "char_8": {"x": 735, "y": 2, "width": 9, "height": 11},
    "char_9": {"x": 745, "y": 2, "width": 9, "height": 11},
    "char_h": {"x": 755, "y": 2, "width": 9, "height": 11},
    "char_i": {"x": 765, "y": 2, "width": 9, "height": 11}, 
    "trex_crashed": {"x": 1024, "y": 2, "width": 44, "height": 47},
    "trex_idle_0": {
        "x": 848,
        "y": 2,
        "width": 44,
        "height": 47,
        "collision": [
            {"x": 1, "y": 18, "width": 30, "height": 9},
            {"x": 1, "y": 24, "width": 29, "height": 5},
            {"x": 10, "y": 35, "width": 14, "height": 8},
            {"x": 22, "y": 0, "width": 18, "height": 16},
            {"x": 5, "y": 30, "width": 21, "height": 4},
            {"x": 9, "y": 34, "width": 15, "height": 4}
        ]
    },
    "trex_blink_0": {
        "x": 892,
        "y": 2,
        "width": 44,
        "height": 47
    },
    "trex_running_0": {
        "x": 936,
        "y": 2,
        "width": 44,
        "height": 47,
        "collision": [
            {"x": 1, "y": 18, "width": 30, "height": 9},
            {"x": 1, "y": 24, "width": 29, "height": 5},
            {"x": 10, "y": 35, "width": 14, "height": 8},
            {"x": 22, "y": 0, "width": 18, "height": 16},
            {"x": 5, "y": 30, "width": 21, "height": 4},
            {"x": 9, "y": 34, "width": 15, "height": 4}
        ]
    },
    "trex_running_1": {
        "x": 980,
        "y": 2,
        "width": 44,
        "height": 47,
        "collision": [
            {"x": 1, "y": 18, "width": 30, "height": 9},
            {"x": 1, "y": 24, "width": 29, "height": 5},
            {"x": 10, "y": 35, "width": 14, "height": 8},
            {"x": 22, "y": 0, "width": 18, "height": 16},
            {"x": 5, "y": 30, "width": 21, "height": 4},
            {"x": 9, "y": 34, "width": 15, "height": 4}
        ]
    },
    "trex_ducking_0": {
        "x": 1112,
        "y": 2,
        "width": 59,
        "height": 47,
        "collision": [
            {"x": 1, "y": 18, "width": 55, "height": 25}
        ]
    },
    "trex_ducking_1": {
        "x": 1171,
        "y": 2,
        "width": 59,
        "height": 47,
        "collision": [
            {"x": 1, "y": 18, "width": 55, "height": 25}
        ]
    },
    "obstacle_small_0": {
        "x": 228,
        "y": 2,
        "width": 17,
        "height": 35,
        "collision": [
            {"x": 0, "y": 7, "width": 5, "height": 27},
            {"x": 4, "y": 0, "width": 6, "height": 34},
            {"x": 10, "y": 4, "width": 7, "height": 14}
        ]
    },
    "obstacle_small_1": {
        "x": 245,
        "y": 2,
        "width": 34,
        "height": 35,
        "collision": [
            {"x": 0, "y": 7, "width": 5, "height": 27},
            {"x": 4, "y": 0, "width": 22, "height": 34},
            {"x": 27, "y": 4, "width": 7, "height": 14}
        ]
    },
    "obstacle_small_2": {
        "x": 279,
        "y": 2,
        "width": 51,
        "height": 35,
        "collision": [
            {"x": 0, "y": 7, "width": 5, "height": 27},
            {"x": 4, "y": 0, "width": 39, "height": 34},
            {"x": 44, "y": 4, "width": 7, "height": 14}
        ]
    },
    "obstacle_large_0": {
        "x": 332,
        "y": 2,
        "width": 25,
        "height": 50,
        "collision": [
            {"x": 0, "y": 12, "width": 7, "height": 38},
            {"x": 8, "y": 0, "width": 7, "height": 49},
            {"x": 13, "y": 10, "width": 10, "height": 38}
        ]
    },
    "obstacle_large_1": {
        "x": 357,
        "y": 2,
        "width": 50,
        "height": 50,
        "collision": [
            {"x": 0, "y": 12, "width": 7, "height": 38},
            {"x": 8, "y": 0, "width": 33, "height": 49},
            {"x": 40, "y": 10, "width": 10, "height": 38}
        ]
    },
    "obstacle_large_2": {
        "x": 407,
        "y": 2,
        "width": 75,
        "height": 50,
        "collision": [
            {"x": 0, "y": 12, "width": 7, "height": 38},
            {"x": 8, "y": 0, "width": 58, "height": 49},
            {"x": 65, "y": 10, "width": 10, "height": 38}
        ]
    }
他記錄了整個遊戲角色、障礙物的座標以及大小，答案呼之欲出了，這邊我們只要把所有障礙物的 `width` & `height` 修改成0就可以跑在乾淨的道路上了